<div
  *ngIf="isOpen"
  class="fixed inset-0 z-[100] overflow-y-auto"
  aria-labelledby="modal-title"
  role="dialog"
  aria-modal="true"
>
  <div
    class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"
  >
    <!-- Background overlay -->
    <div
      class="fixed inset-0 bg-slate-900 bg-opacity-75 transition-opacity backdrop-blur-sm"
      aria-hidden="true"
      (click)="onClose()"
    ></div>

    <!-- Centering trick -->
    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"
      >&#8203;</span
    >

    <!-- Modal panel -->
    <div
      class="relative inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm w-full"
    >
      <!-- Header Bar -->
      <div
        class="h-2 w-full"
        [ngClass]="{
          'bg-green-500': type === 'success',
          'bg-red-500': type === 'error',
          'bg-indigo-500': type === 'info'
        }"
      ></div>

      <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
        <div class="flex flex-col items-center justify-center">
          <!-- Icon -->
          <div
            class="mx-auto flex-shrink-0 flex items-center justify-center h-20 w-20 rounded-full mb-6 animate-bounce-slight"
            [ngClass]="{
              'bg-green-50': type === 'success',
              'bg-red-50': type === 'error',
              'bg-indigo-50': type === 'info'
            }"
          >
            <i
              class="pi text-5xl"
              [ngClass]="{
                'pi-check-circle text-green-500': type === 'success',
                'pi-times-circle text-red-500': type === 'error',
                'pi-info-circle text-indigo-500': type === 'info'
              }"
            ></i>
          </div>

          <!-- Content -->
          <div class="text-center w-full">
            <h3 class="text-2xl leading-6 font-bold text-slate-900 mb-2" id="modal-title">
              {{ title }}
            </h3>
            <p *ngIf="message" class="text-sm text-slate-500 mb-4">
              {{ message }}
            </p>

            <!-- Content Projection for custom body -->
            <ng-content></ng-content>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="bg-slate-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-3">
        <button
          type="button"
          (click)="onPrimaryAction()"
          class="w-full inline-flex justify-center rounded-xl border border-transparent shadow-sm px-4 py-3 text-base font-medium text-white focus:outline-none transition-all transform hover:-translate-y-0.5"
          [ngClass]="{
            'bg-green-600 hover:bg-green-700 focus:ring-green-500': type === 'success',
            'bg-red-600 hover:bg-red-700 focus:ring-red-500': type === 'error',
            'bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500': type === 'info'
          }"
        >
          {{ primaryActionLabel }}
        </button>

        <button
          *ngIf="showCloseButton"
          type="button"
          (click)="onClose()"
          class="mt-3 w-full inline-flex justify-center rounded-xl border border-slate-300 shadow-sm px-4 py-3 bg-white text-base font-medium text-slate-700 hover:bg-slate-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm"
        >
          Close
        </button>
      </div>
    </div>
  </div>
</div>
