<div
  class="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center p-4"
>
  <div
    class="w-full max-w-5xl bg-white rounded-2xl shadow-xl flex overflow-hidden border border-slate-100"
  >
    <!-- Left Side: Image Panel (hidden on small screens) -->
    <div
      class="hidden lg:flex w-5/12 bg-indigo-600 p-8 flex-col justify-between relative overflow-hidden"
    >
      <!-- Background Pattern -->
      <div
        class="absolute inset-0 opacity-10 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"
      ></div>
      <div
        class="absolute -bottom-20 -right-20 w-64 h-64 bg-indigo-500 rounded-full blur-3xl opacity-50"
      ></div>

      <div class="relative z-10">
        <div class="flex items-center gap-2 text-white/90 mb-6">
          <i class="pi pi-book text-xl"></i>
          <span class="font-bold text-lg tracking-tight">PrepMaster</span>
        </div>

        <h1 class="text-white font-extrabold text-3xl leading-tight mb-4">
          Welcome Back <br />
          to <span class="text-yellow-300">Learning.</span>
        </h1>

        <p class="text-indigo-100 text-sm leading-relaxed">
          Unlock your potential. Ace your exams with our tailored test series and detailed analysis.
        </p>
      </div>

      <div class="mt-6 relative z-10">
        <img
          src="assets/images/login-img.png"
          alt="Learning Illustration"
          class="w-full h-auto rounded-xl shadow-lg border-2 border-indigo-500/30 transform hover:scale-105 transition-transform duration-500"
        />
      </div>
    </div>

    <!-- Right Side: Form Panel -->
    <div class="w-full lg:w-7/12 p-6 md:p-10 flex flex-col justify-center relative bg-white">
      <!-- Back Link -->
      <a
        routerLink="/"
        class="absolute top-6 right-6 text-xs font-semibold text-slate-400 hover:text-indigo-600 flex items-center gap-1 transition-colors"
      >
        <i class="pi pi-arrow-left text-[10px]"></i> Back to Home
      </a>

      <div class="max-w-md mx-auto w-full">
        <!-- Form Header -->
        <div class="mb-6">
          <h2 class="text-2xl font-extrabold text-slate-900 mb-1">Welcome Back!</h2>
          <p class="text-slate-500 text-sm">Please sign in to continue.</p>
        </div>

        <!-- Form: Only Email Mode -->
        <form [formGroup]="loginFormUsingEmail" (ngSubmit)="onSubmitusingEmail()">
          @if (loginError) {
          <div
            class="bg-red-50 border border-red-100 text-red-600 p-2 rounded-lg text-xs flex items-center mb-4"
            role="alert"
          >
            <i class="pi pi-info-circle mr-2 text-sm"></i> {{ loginError }}
          </div>
          }
          <!-- EMAIL / PASSWORD MODE -->
          <!-- Email Input -->
          <div class="mb-5">
            <label
              for="email"
              class="block text-[10px] font-bold text-slate-600 uppercase tracking-wider mb-1"
              >Email Address</label
            >
            <div class="relative">
              <i class="pi pi-envelope absolute left-3 top-3 text-slate-400 text-sm"></i>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="w-full pl-9 pr-3 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400 text-sm font-medium"
                placeholder="you@example.com"
              />
            </div>
          </div>

          <!-- Password Input -->
          <div class="mb-5">
            <div class="flex justify-between items-center mb-1">
              <label
                for="password"
                class="block text-[10px] font-bold text-slate-600 uppercase tracking-wider"
                >Password</label
              >
              <a
                routerLink="/forgot-password"
                class="text-[10px] font-semibold text-indigo-600 hover:text-indigo-800 transition-colors"
                >Forgot password?</a
              >
            </div>
            <div class="relative">
              <i class="pi pi-lock absolute left-3 top-3 text-slate-400 text-sm"></i>
              <input
                type="password"
                id="password"
                formControlName="password"
                class="w-full pl-9 pr-3 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400 text-sm font-medium"
                placeholder="••••••••"
              />
            </div>
          </div>

          <button
            type="submit"
            [disabled]="!loginFormUsingEmail.valid || isLoading"
            class="w-full mt-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-300 disabled:cursor-not-allowed text-white font-bold py-3 rounded-lg shadow-lg shadow-indigo-200 transition-all transform hover:-translate-y-0.5 active:scale-[0.98] text-sm flex items-center justify-center gap-2"
          >
            @if(isLoading) {
            <i class="pi pi-spin pi-spinner text-lg"></i> Signing in... } @else { Sign In }
          </button>
        </form>

        <!-- Divider & Google Sign In -->
        <div class="my-6 relative">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-slate-200"></div>
          </div>
          <div class="relative flex justify-center text-[10px] uppercase">
            <span class="bg-white px-4 text-slate-400 font-bold">Or continue with</span>
          </div>
        </div>

        <button
          (click)="loginWithGoogle()"
          class="w-full flex items-center justify-center py-3 border-2 border-slate-100 rounded-xl hover:bg-slate-50 hover:border-slate-200 transition-all duration-200 group"
        >
          <svg class="w-5 h-5 mr-3" viewBox="0 0 48 48">
            <path
              fill="#FFC107"
              d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"
            ></path>
            <path
              fill="#FF3D00"
              d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"
            ></path>
            <path
              fill="#4CAF50"
              d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"
            ></path>
            <path
              fill="#1976D2"
              d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.99,36.958,44,31.25,44,24C44,22.659,43.862,21.35,43.611,20.083z"
            ></path>
          </svg>
          <span
            class="text-sm font-bold text-slate-600 group-hover:text-slate-800 transition-colors"
            >Sign in with Google</span
          >
        </button>

        <p class="text-center text-xs text-slate-500 mt-6">
          Don't have an account?
          <a
            routerLink="/register"
            class="font-bold text-indigo-600 hover:text-indigo-800 hover:underline transition-colors"
            >Sign up</a
          >
        </p>
      </div>
    </div>
  </div>
</div>
